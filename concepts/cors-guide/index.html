<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>CORS Guide · Technical Interview Handbook</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="**Disclaimer** : This md file is created from referring multiple sources. Hence I didn&#x27;t claim the originality. This file is created with intent to help people understand concepts in simple words"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="CORS Guide · Technical Interview Handbook"/><meta property="og:type" content="website"/><meta property="og:url" content="https://iamvickyav.github.io/"/><meta property="og:description" content="**Disclaimer** : This md file is created from referring multiple sources. Hence I didn&#x27;t claim the originality. This file is created with intent to help people understand concepts in simple words"/><meta property="og:image" content="https://iamvickyav.github.io/img/final.ico"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://iamvickyav.github.io/img/img.png"/><link rel="shortcut icon" href="/img/final.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/final.ico" alt="Technical Interview Handbook"/><h2 class="headerTitleWithLogo">Technical Interview Handbook</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docker/docker" target="_self">Docker</a></li><li class="siteNavGroupActive"><a href="/java/java" target="_self">Java</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Concepts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/welcome">Getting Started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Java<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/java/java">Java Getting Started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Docker &amp; K8<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Docker</h4><ul><li class="navListItem"><a class="navItem" href="/docker/docker">Docker Getting Started</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Kubernetes</h4><ul><li class="navListItem"><a class="navItem" href="/docker/kube">Kube Getting Started</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/concepts/cors-guide">CORS Guide</a></li><li class="navListItem"><a class="navItem" href="/concepts/rest-guide">REST API Guide</a></li><li class="navListItem"><a class="navItem" href="/concepts/security-guide">Secuity Basics</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Apache Solr<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/solr/solr-guide">Apache Solr basics</a></li><li class="navListItem"><a class="navItem" href="/solr/solr-mysql-import-guide">Solr - Import Data from MySQL</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Caching<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/cache/http-cache">HTTP Cache</a></li><li class="navListItem"><a class="navItem" href="/cache/redis">Redis Cache</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Messaging Middleware<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/messaging/rabbitmq">RabbitMQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Build Tool<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/buildtool/maven">Maven Guide</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">CORS Guide</h1></header><article><div><span><p><strong>Disclaimer</strong> : This md file is created from referring multiple sources. Hence I didn't claim the originality. This file is created with intent to help people understand concepts in simple words</p>
<h2><a class="anchor" aria-hidden="true" id="same-origin-policy-sop"></a><a href="#same-origin-policy-sop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Same Origin Policy (SOP)</h2>
<p>According to Wikipedia</p>
<blockquote>
<p>Under Same-origin policy (SOP), a web browser permits scripts contained in a first web page to access data in a second web page, but only if both web pages have the same origin</p>
</blockquote>
<p>SOP made sure, we can only make call (<strong>XMLHttpRequest</strong> and <strong>fetch</strong> calls) to same origin from where the JS file is actually downloaded</p>
<h2><a class="anchor" aria-hidden="true" id="why-same-origin-policy-is-important"></a><a href="#why-same-origin-policy-is-important" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why Same Origin Policy is important</h2>
<p>Lets assume for a minute, there is no Same Origin Policy</p>
<p>We are somehow tricked into visiting <a href="http://www.fakehdfcbank.com">www.fakehdfcbank.com</a>. On that site, there is an iframe that loads <a href="http://www.hdfc.com">www.hdfc.com</a>, where you proceed to login legitimately.</p>
<p>After logging in, a simple JavaScript call from <a href="http://www.fakehdfcbank.com">www.fakehdfcbank.com</a> could be used to access the DOM elements of <a href="http://www.hdfc.com">www.hdfc.com</a> loaded in the iframe, such as your account number, balance etc</p>
<p>Same Origin Policy prevents the above vulnerability</p>
<h2><a class="anchor" aria-hidden="true" id="when-two-urls-are-considered-same-origin-"></a><a href="#when-two-urls-are-considered-same-origin-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>When two URLs are considered same origin ?</h2>
<blockquote>
<p>Origin = URI scheme(http or https) + host name + port number</p>
</blockquote>
<p>Lets say our host is <a href="http://www.hdfc.com">http://www.hdfc.com</a></p>
<table>
<thead>
<tr><th>URL we try to access</th><th>Accessible</th><th>Reason</th></tr>
</thead>
<tbody>
<tr><td><a href="http://www.hdfc.com/home">http://www.hdfc.com/home</a></td><td>Yes</td><td>Protocol, host and port match</td></tr>
<tr><td><a href="http://www.hdfc.com/dir2/other.htm">http://www.hdfc.com/dir2/other.htm</a></td><td>Yes</td><td>Protocol, host and port match</td></tr>
<tr><td><a href="http://www.hdfc.com:81/home">http://www.hdfc.com:81/home</a></td><td>No</td><td>port mismatch</td></tr>
<tr><td><a href="https://www.hdfc.com">https://www.hdfc.com</a></td><td>No</td><td>Schema mismatch (https)</td></tr>
<tr><td><a href="http://www.demo.hdfc.com">http://www.demo.hdfc.com</a></td><td>No</td><td>Host mismatch</td></tr>
<tr><td><a href="http://www2.hdfc.com">http://www2.hdfc.com</a></td><td>No</td><td>Host mismatch</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="how-to-override-same-origin-policy"></a><a href="#how-to-override-same-origin-policy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to override Same Origin Policy</h2>
<ul>
<li>JSONP</li>
<li>CORS</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="jsonp"></a><a href="#jsonp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JSONP</h2>
<p>When a JS is downloaded from an origin, it can't make access content from another origin. But a webpage can load download using <code>&lt;script src=&quot;&quot;/&gt;</code> JS from another origin &amp; execute it</p>
<p>This loophole is proposed as way to bypass the SOP. See the below example (taken from Wikipedia)</p>
<p>Lets say call to <a href="http://example.com/Users/1234">http://example.com/Users/1234</a> will yield the following JSON</p>
<pre><code class="hljs">{
    <span class="hljs-attr">"Name"</span>: <span class="hljs-string">"Foo"</span>,
    <span class="hljs-attr">"Id"</span>: <span class="hljs-number">1234</span>,
    <span class="hljs-attr">"Rank"</span>: <span class="hljs-number">7</span>
}
</code></pre>
<p>We can't directly call this URL like below</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"application/javascript"</span>
        <span class="hljs-attr">src</span>=<span class="hljs-string">"http://example.com/Users/1234"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>which will result in error as JS will consider the JSON as data block &amp; hence will throw syntax error.</p>
<p>Instead the call will be made to third party to return response like below</p>
<p><code>&lt;script src=&quot;http://example.com/Users/1234?callback=parseResponse&quot;&gt;&lt;/script&gt;</code></p>
<p>Now the third party service has to respond with creating a JS file with below content</p>
<p><code>parseResponse({&quot;Name&quot;: &quot;Foo&quot;, &quot;Id&quot;: 1234, &quot;Rank&quot;: 7});</code></p>
<p>Once a JS file is downloaded, browser as usual will execute it (whenever a JS file gets downloaded, browser will try to execute it). Hence the parseResponse() method already written in our JS will get called with JSON as the parameter</p>
<p>This method of bypassing SOP is called <strong>JSONP</strong> (JSON Padding)</p>
<h2><a class="anchor" aria-hidden="true" id="cross-origin-resource-sharing-cors"></a><a href="#cross-origin-resource-sharing-cors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cross Origin Resource Sharing (CORS)</h2>
<blockquote>
<p>Cross-origin resource sharing (CORS) is a mechanism that enables scripts running on a browser to interact with resources from a different origin</p>
</blockquote>
<p>CORS allow access other origin resource by adding <strong>additional headers</strong>.</p>
<p>CORS specifies two types of request</p>
<ul>
<li>Simple Request</li>
<li>Preflight Request (Not-so-simple-request)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="simple-request"></a><a href="#simple-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple Request</h3>
<p>A request is called as Simple Request, if it satisies all the below conditions</p>
<ul>
<li>Allowed HTTP Methods : GET, POST, or HEAD</li>
<li>Allowed HTTP Headers : Accept, Accept-Language, Content-Language, Last-Event-ID, Content-Type</li>
<li>Allowed Content Type : application/x-www-form-urlencoded, multipart/form-data, or text/plain</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="cors-for-simple-request"></a><a href="#cors-for-simple-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CORS for Simple Request</h3>
<p>When a simple request is made to different Origin, CORS will do the following</p>
<ul>
<li>Browser will make request to the resource (URL) of different origin (server)</li>
</ul>
<pre><code class="hljs">GET Users<span class="hljs-regexp">/1234?callback=parseResponse HTTP/</span><span class="hljs-number">1.1</span>
<span class="hljs-string">Host:</span> example.com
User-<span class="hljs-string">Agent:</span> Mozilla<span class="hljs-regexp">/5.0 (Macintosh; Intel Mac OS X 10.14; rv:71.0) Gecko/</span><span class="hljs-number">20100101</span> Firefox/<span class="hljs-number">71.0</span>
<span class="hljs-string">Accept:</span> application/json
<span class="hljs-string">Connection:</span> keep-alive
<span class="hljs-string">Origin:</span> <span class="hljs-string">http:</span><span class="hljs-comment">//www.vicky.com</span>
</code></pre>
<ul>
<li>Server will process the call &amp; respond back with JSON &amp; an additional header called <strong>Access-Control-Allow-Origin</strong></li>
</ul>
<pre><code class="hljs">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Thu, 14 Nov 2019 00:00:00 GMT
<span class="hljs-attribute">Access-Control-Allow-Origin</span>: http://www.vicky.com
<span class="hljs-attribute">Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"Name"</span>: <span class="hljs-string">"Foo"</span>,
    <span class="hljs-attr">"Id"</span>: <span class="hljs-number">1234</span>,
    <span class="hljs-attr">"Rank"</span>: <span class="hljs-number">7</span>
}
</span></code></pre>
<p>If <strong>Access-Control-Allow-Origin</strong> header matches with host URL, the browser will allow the JS to access the response. Otherwise browser will thrown an error</p>
<p>Other Access-Control headers - Access-Control-Allow-Methods, Access-Control-Allow-Headers, Access-Control-Max-Age</p>
<p><strong>Note</strong>: For simple request, the cross origin server didn't block any request. It sends the response with an additional header. Its the browser which blocks the code from accessing the response received from cross origin server</p>
<h3><a class="anchor" aria-hidden="true" id="cors-for-preflight-or-not-so-simple-request"></a><a href="#cors-for-preflight-or-not-so-simple-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CORS for Preflight or Not-so-simple-request</h3>
<p>If a request does not meet the criteria for a simple request, the browser will instead make an automatic preflight request using the OPTIONS method</p>
<pre><code class="hljs">OPTIONS /
<span class="hljs-string">Host:</span> example.com
<span class="hljs-string">Origin:</span> <span class="hljs-string">http:</span><span class="hljs-comment">//www.vicky.com</span>
</code></pre>
<p>Response from browser for <strong>Options</strong> request</p>
<pre><code class="hljs">Access-Control-Allow-<span class="hljs-string">Origin:</span> <span class="hljs-string">http:</span><span class="hljs-comment">//www.vicky.com</span>
Access-Control-Allow-<span class="hljs-string">Methods:</span> PUT, DELETE
</code></pre>
<p>Based on the response for the OPTIONS request, browser will decide whether to continue with the request or to abandon it</p>
<p>Here is the workflow of CORS (Image from Wikipedia)</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Flowchart_showing_Simple_and_Preflight_XHR.svg/770px-Flowchart_showing_Simple_and_Preflight_XHR.svg.png" alt="CORS Explained in one Image - Source: Wikipedia"></p>
<p><strong>Reference:</strong></p>
<ul>
<li><p><a href="https://www.html5rocks.com/en/tutorials/cors/">https://www.html5rocks.com/en/tutorials/cors/</a></p></li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=stvCHJZq5MI">https://www.youtube.com/watch?v=stvCHJZq5MI</a></p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">https://en.wikipedia.org/wiki/Cross-origin_resource_sharing</a></p></li>
<li><p><a href="https://en.wikipedia.org/wiki/JSONP">https://en.wikipedia.org/wiki/JSONP</a></p></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/ui/angular"><span class="arrow-prev">← </span><span>Previous</span></a><a class="docs-next button" href="/concepts/rest-guide"><span>REST API Guide</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#same-origin-policy-sop">Same Origin Policy (SOP)</a></li><li><a href="#why-same-origin-policy-is-important">Why Same Origin Policy is important</a></li><li><a href="#when-two-urls-are-considered-same-origin-">When two URLs are considered same origin ?</a></li><li><a href="#how-to-override-same-origin-policy">How to override Same Origin Policy</a></li><li><a href="#jsonp">JSONP</a></li><li><a href="#cross-origin-resource-sharing-cors">Cross Origin Resource Sharing (CORS)</a><ul class="toc-headings"><li><a href="#simple-request">Simple Request</a></li><li><a href="#cors-for-simple-request">CORS for Simple Request</a></li><li><a href="#cors-for-preflight-or-not-so-simple-request">CORS for Preflight or Not-so-simple-request</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/final.ico" alt="Technical Interview Handbook" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docker.html">Getting Started (or other categories)</a><a href="/doc2.html">Guides (or other categories)</a><a href="/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/about-us">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/iamvickyav" class="twitter-follow-button">Follow @iamvickyav</a></div></div></section><section class="copyright">Copyright © 2020 iamvickyav</section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>